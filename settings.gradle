rootProject.name = 'shadow'

if (!System.getenv().containsKey("ANDROID_HOME")) {
    throw new RuntimeException("未定义ANDROID_HOME环境变量。" +
            "原因：Android Studio目前不支持自动为复合构建中的子构建自动创建local.properties文件。" +
            "注意：新增环境变量后，一般不会立即生效，最简单的办法是重启电脑。")
}

includeBuild 'projects/sdk/coding'
includeBuild 'projects/sdk/core'
includeBuild 'projects/sdk/dynamic'
includeBuild 'projects/test'

includeSample()

def includeSample() {
    include 'sample-constant',
            'sample-host',
            'sample-host-lib',
            'sample-manager',
            'sample-loader',
            'sample-runtime',
            'pinnedheaderexpandablelistview',
            'slidingmenu',
            'sample-app-lib',
            'sample-normal-app',
            'sample-plugin-app'
    project(':sample-constant').projectDir = file('projects/sample/source/sample-constant')
    project(':sample-host').projectDir = file('projects/sample/source/sample-host')
    project(':sample-host-lib').projectDir = file('projects/sample/source/sample-host-lib')
    project(':sample-manager').projectDir = file('projects/sample/source/sample-manager')
    project(':sample-loader').projectDir = file('projects/sample/source/sample-plugin/sample-loader')
    project(':sample-runtime').projectDir = file('projects/sample/source/sample-plugin/sample-runtime')
    project(':pinnedheaderexpandablelistview').projectDir = file('projects/sample/source/sample-plugin/third-party/pinnedheaderexpandablelistview')
    project(':slidingmenu').projectDir = file('projects/sample/source/sample-plugin/third-party/slidingmenu')
    project(':sample-app-lib').projectDir = file('projects/sample/source/sample-plugin/sample-app-lib')
    project(':sample-normal-app').projectDir = file('projects/sample/source/sample-plugin/sample-normal-app')
    project(':sample-plugin-app').projectDir = file('projects/sample/source/sample-plugin/sample-plugin-app')
}